<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fase 4 - Camada de Transporte</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/fase.css">
    <link href="https://fonts.googleapis.com/css2?family=Kdam+Thmor+Pro&display=swap" rel="stylesheet">
</head>

<body>
    <div class="fase-container">
        <!-- Header da Fase -->
        <header class="fase-header">
            <div class="header-left">
                <a href="trilha.html" class="btn-voltar-fase">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    Voltar √† Trilha
                </a>
                <div class="fase-titulo">
                    <h1>Fase 4: Camada de Transporte</h1>
                    <p>TCP, UDP e controle de fluxo</p>
                </div>
            </div>
            <div class="header-right">
                <div class="fase-pontos">
                    <span id="pontos-fase">0 Pontos</span>
                </div>
                <div class="fase-progresso">
                    <span>Progresso: <span id="progresso-atual">0</span>/4</span>
                    <div class="progresso-bar-mini">
                        <div class="progresso-fill-mini" id="progresso-fill"></div>
                    </div>
                </div>
            </div>
        </header>

        <!-- √Årea Principal da Fase -->
        <main class="fase-main">
            <!-- Se√ß√£o de Introdu√ß√£o -->
            <section class="fase-secao ativa" id="secao-intro">
                <div class="secao-content">
                    <div class="intro-visual">
                        <div class="transporte-animado">
                            <div class="protocolo tcp">
                                <span>TCP</span>
                                <small>Confi√°vel</small>
                            </div>
                            <div class="vs">VS</div>
                            <div class="protocolo udp">
                                <span>UDP</span>
                                <small>R√°pido</small>
                            </div>
                        </div>
                    </div>
                    <div class="intro-texto">
                        <h2>Camada de Transporte</h2>
                        <p>A camada de transporte √© respons√°vel pela comunica√ß√£o confi√°vel entre aplica√ß√µes. Ela oferece dois protocolos principais: TCP (confi√°vel) e UDP (r√°pido).</p>
                        
                        <div class="conceitos-chave">
                            <h3>Conceitos Principais:</h3>
                            <ul>
                                <li><strong>TCP:</strong> Transmission Control Protocol - confi√°vel</li>
                                <li><strong>UDP:</strong> User Datagram Protocol - r√°pido</li>
                                <li><strong>Portas:</strong> Identifica√ß√£o de servi√ßos</li>
                                <li><strong>Controle de Fluxo:</strong> Gerenciamento de velocidade</li>
                            </ul>
                        </div>

                        <button class="btn-continuar" onclick="iniciarDesafio(1)">
                            Come√ßar Desafios
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Desafio 1: TCP vs UDP -->
            <section class="fase-secao" id="secao-desafio1">
                <div class="secao-content">
                    <div class="desafio-header">
                        <h2>Desafio 1: Escolha o Protocolo Correto</h2>
                        <p>Para cada aplica√ß√£o, escolha se deve usar TCP ou UDP</p>
                    </div>

                    <div class="desafio-area">
                        <div class="aplicacoes-lista">
                            <div class="aplicacao-item" data-protocolo="TCP" onclick="selecionarProtocolo(this)">
                                <div class="app-info">
                                    <h3>üåê Navega√ß√£o Web (HTTP/HTTPS)</h3>
                                    <p>Carregamento de p√°ginas web</p>
                                </div>
                                <div class="protocolo-escolha">
                                    <button class="btn-protocolo tcp" data-valor="TCP">TCP</button>
                                    <button class="btn-protocolo udp" data-valor="UDP">UDP</button>
                                </div>
                            </div>

                            <div class="aplicacao-item" data-protocolo="UDP" onclick="selecionarProtocolo(this)">
                                <div class="app-info">
                                    <h3>üéÆ Jogos Online</h3>
                                    <p>A√ß√£o em tempo real</p>
                                </div>
                                <div class="protocolo-escolha">
                                    <button class="btn-protocolo tcp" data-valor="TCP">TCP</button>
                                    <button class="btn-protocolo udp" data-valor="UDP">UDP</button>
                                </div>
                            </div>

                            <div class="aplicacao-item" data-protocolo="TCP" onclick="selecionarProtocolo(this)">
                                <div class="app-info">
                                    <h3>üìß Email (SMTP)</h3>
                                    <p>Envio de mensagens</p>
                                </div>
                                <div class="protocolo-escolha">
                                    <button class="btn-protocolo tcp" data-valor="TCP">TCP</button>
                                    <button class="btn-protocolo udp" data-valor="UDP">UDP</button>
                                </div>
                            </div>

                            <div class="aplicacao-item" data-protocolo="UDP" onclick="selecionarProtocolo(this)">
                                <div class="app-info">
                                    <h3>üì∫ Streaming de V√≠deo</h3>
                                    <p>Transmiss√£o ao vivo</p>
                                </div>
                                <div class="protocolo-escolha">
                                    <button class="btn-protocolo tcp" data-valor="TCP">TCP</button>
                                    <button class="btn-protocolo udp" data-valor="UDP">UDP</button>
                                </div>
                            </div>

                            <div class="aplicacao-item" data-protocolo="TCP" onclick="selecionarProtocolo(this)">
                                <div class="app-info">
                                    <h3>üìÅ Transfer√™ncia de Arquivos (FTP)</h3>
                                    <p>Download/Upload de arquivos</p>
                                </div>
                                <div class="protocolo-escolha">
                                    <button class="btn-protocolo tcp" data-valor="TCP">TCP</button>
                                    <button class="btn-protocolo udp" data-valor="UDP">UDP</button>
                                </div>
                            </div>

                            <div class="aplicacao-item" data-protocolo="UDP" onclick="selecionarProtocolo(this)">
                                <div class="app-info">
                                    <h3>üåç DNS (Resolu√ß√£o de Nomes)</h3>
                                    <p>Consultas r√°pidas</p>
                                </div>
                                <div class="protocolo-escolha">
                                    <button class="btn-protocolo tcp" data-valor="TCP">TCP</button>
                                    <button class="btn-protocolo udp" data-valor="UDP">UDP</button>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn-verificar" onclick="verificarProtocolos()" disabled>Verificar Escolhas</button>
                    </div>

                    <div class="desafio-feedback" id="feedback-desafio1"></div>
                </div>
            </section>

            <!-- Desafio 2: Portas -->
            <section class="fase-secao" id="secao-desafio2">
                <div class="secao-content">
                    <div class="desafio-header">
                        <h2>Desafio 2: Associe Servi√ßos √†s Portas</h2>
                        <p>Conecte cada servi√ßo √† sua porta padr√£o correta</p>
                    </div>

                    <div class="desafio-area">
                        <div class="portas-jogo">
                            <div class="servicos-coluna">
                                <h3>Servi√ßos</h3>
                                <div class="servico-item" draggable="true" data-servico="HTTP" data-porta="80">
                                    <span>üåê HTTP</span>
                                </div>
                                <div class="servico-item" draggable="true" data-servico="HTTPS" data-porta="443">
                                    <span>üîí HTTPS</span>
                                </div>
                                <div class="servico-item" draggable="true" data-servico="FTP" data-porta="21">
                                    <span>üìÅ FTP</span>
                                </div>
                                <div class="servico-item" draggable="true" data-servico="SSH" data-porta="22">
                                    <span>üîê SSH</span>
                                </div>
                                <div class="servico-item" draggable="true" data-servico="TELNET" data-porta="23">
                                    <span>üì° TELNET</span>
                                </div>
                                <div class="servico-item" draggable="true" data-servico="SMTP" data-porta="25">
                                    <span>üìß SMTP</span>
                                </div>
                                <div class="servico-item" draggable="true" data-servico="DNS" data-porta="53">
                                    <span>üåç DNS</span>
                                </div>
                            </div>

                            <div class="portas-coluna">
                                <h3>Portas</h3>
                                <div class="porta-slot" data-porta="21">
                                    <span class="porta-numero">21</span>
                                    <div class="slot-content"></div>
                                </div>
                                <div class="porta-slot" data-porta="22">
                                    <span class="porta-numero">22</span>
                                    <div class="slot-content"></div>
                                </div>
                                <div class="porta-slot" data-porta="23">
                                    <span class="porta-numero">23</span>
                                    <div class="slot-content"></div>
                                </div>
                                <div class="porta-slot" data-porta="25">
                                    <span class="porta-numero">25</span>
                                    <div class="slot-content"></div>
                                </div>
                                <div class="porta-slot" data-porta="53">
                                    <span class="porta-numero">53</span>
                                    <div class="slot-content"></div>
                                </div>
                                <div class="porta-slot" data-porta="80">
                                    <span class="porta-numero">80</span>
                                    <div class="slot-content"></div>
                                </div>
                                <div class="porta-slot" data-porta="443">
                                    <span class="porta-numero">443</span>
                                    <div class="slot-content"></div>
                                </div>
                            </div>
                        </div>

                        <button class="btn-verificar" onclick="verificarPortas()" disabled>Verificar Associa√ß√µes</button>
                        <button class="btn-resetar" onclick="resetarPortas()">Resetar</button>
                    </div>

                    <div class="desafio-feedback" id="feedback-desafio2"></div>
                </div>
            </section>

            <!-- Desafio 3: Simula√ß√£o TCP -->
            <section class="fase-secao" id="secao-desafio3">
                <div class="secao-content">
                    <div class="desafio-header">
                        <h2>Desafio 3: Simule uma Conex√£o TCP</h2>
                        <p>Organize as etapas do Three-Way Handshake na ordem correta</p>
                    </div>

                    <div class="desafio-area">
                        <div class="tcp-simulacao">
                            <div class="hosts">
                                <div class="host cliente">
                                    <h3>Cliente</h3>
                                    <div class="estado" id="estado-cliente">Aguardando</div>
                                </div>
                                <div class="host servidor">
                                    <h3>Servidor</h3>
                                    <div class="estado" id="estado-servidor">Aguardando</div>
                                </div>
                            </div>

                            <div class="etapas-tcp">
                                <div class="etapa-item" data-ordem="1" onclick="selecionarEtapa(this)">
                                    <span class="etapa-numero">1</span>
                                    <div class="etapa-info">
                                        <h4>SYN</h4>
                                        <p>Cliente envia SYN</p>
                                    </div>
                                </div>
                                <div class="etapa-item" data-ordem="2" onclick="selecionarEtapa(this)">
                                    <span class="etapa-numero">2</span>
                                    <div class="etapa-info">
                                        <h4>SYN-ACK</h4>
                                        <p>Servidor responde SYN-ACK</p>
                                    </div>
                                </div>
                                <div class="etapa-item" data-ordem="3" onclick="selecionarEtapa(this)">
                                    <span class="etapa-numero">3</span>
                                    <div class="etapa-info">
                                        <h4>ACK</h4>
                                        <p>Cliente confirma com ACK</p>
                                    </div>
                                </div>
                            </div>

                            <div class="timeline-tcp">
                                <div class="timeline-slot" data-posicao="1">
                                    <span>1¬∫</span>
                                </div>
                                <div class="timeline-slot" data-posicao="2">
                                    <span>2¬∫</span>
                                </div>
                                <div class="timeline-slot" data-posicao="3">
                                    <span>3¬∫</span>
                                </div>
                            </div>

                            <button class="btn-simular" onclick="simularTCP()" disabled>Simular Handshake</button>
                        </div>
                    </div>

                    <div class="desafio-feedback" id="feedback-desafio3"></div>
                </div>
            </section>

            <!-- Conclus√£o da Fase -->
            <section class="fase-secao" id="secao-conclusao">
                <div class="secao-content">
                    <div class="conclusao-visual">
                        <div class="sucesso-icon">‚úì</div>
                        <h2>Parab√©ns! Fase 4 Conclu√≠da!</h2>
                        <p>Voc√™ dominou os conceitos da Camada de Transporte!</p>
                    </div>

                    <div class="conhecimentos-adquiridos">
                        <h3>Conhecimentos Adquiridos:</h3>
                        <ul>
                            <li>‚úì Diferen√ßas entre TCP e UDP</li>
                            <li>‚úì Portas padr√£o de servi√ßos</li>
                            <li>‚úì Three-Way Handshake do TCP</li>
                            <li>‚úì Funcionamento da camada de transporte</li>
                        </ul>
                    </div>

                    <div class="resultados-fase">
                        <div class="resultado-item">
                            <span class="resultado-label">Desafios Conclu√≠dos:</span>
                            <span class="resultado-valor">3/3</span>
                        </div>
                        <div class="resultado-item">
                            <span class="resultado-label">Pontos Ganhos:</span>
                            <span class="resultado-valor">+300</span>
                        </div>
                        <div class="resultado-item">
                            <span class="resultado-label">Pr√≥xima Fase:</span>
                            <span class="resultado-valor">Camada de Aplica√ß√£o</span>
                        </div>
                    </div>

                    <div class="conclusao-acoes">
                        <button class="btn-continuar" onclick="voltarTrilha()">
                            Voltar √† Trilha
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <!-- HUD de Progresso -->
        <div class="hud-progresso">
            <div class="hud-item">
                <span>Fase:</span>
                <span>4 - Transporte</span>
            </div>
        </div>
    </div>

    <!-- Sistema de Jogo: Tempo, Vida e Habilidades -->
    <script src="js/gameSystemSimple.js"></script>
    <script src="js/global.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/darkmode.js"></script>
    <script src="js/fase4.js"></script>

</body>

</html>
